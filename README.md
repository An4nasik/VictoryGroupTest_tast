
## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Python 3.12+** 
- **aiogram** 
- **SQLAlchemy** + **AsyncPG** 
- **Redis** 
- **APScheduler** 
- **Alembic** 

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **PostgreSQL** 
- **Redis** 
- **Loki** + **Grafana** -
- **Docker** 
- **uv**

## üì¶ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/An4nasik/VictoryGroupTest_tast
cd "VictoryGroupTest_tast"

# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```env
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_DB=
DATABASE_URL=
BOT_TOKEN=
REDIS_HOST=
REDIS_PORT=

–ù—É –∞ —ç—Ç–æ –º–æ–π
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_DB=mydatabase
DATABASE_URL=postgresql+asyncpg://postgres:password@db:5432/mydatabase
BOT_TOKEN=7743887451:AAHCGM9IIu_O3vi68BgI-onMs0l1YzHlzgw
REDIS_HOST=redis
REDIS_PORT=6379
@RazrabotTestTaskBot - –∞ —ç—Ç–æ —Å–∞–º –±–æ—Ç
```

### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
docker-compose exec bot alembic upgrade head
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **Grafana**: http://localhost:3000 - –¥–∞—à–±–æ—Ä–¥—ã(–Ω–æ —ç—Ç–æ –≤—ã —Å–∞–º–∏ —Å–¥–µ–ª–∞–π—Ç–µ) –∏ –º–µ—Ç—Ä–∏–∫–∏. (admin admin)
- –ú–æ–∂–µ—Ç –Ω–∞–¥–æ –±—É–¥–µ—Ç data source –≤—ã–±—Ä–∞—Ç—å –≤ Grafana

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îú‚îÄ‚îÄ handlers/       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ middlewares/    # –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ü–û
‚îú‚îÄ‚îÄ models/         # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ services/       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ states/         # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îú‚îÄ‚îÄ keyboards/      # Telegram –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ utils/          # –£—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ alembic/        # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec bot alembic revision --autogenerate -m "description"

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
docker-compose exec bot alembic upgrade head

# –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec bot alembic downgrade -1

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
uv run ruff format .

# –õ–∏–Ω—Ç–∏–Ω–≥
uv run ruff check .
```

---

## ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### üë• –û–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã (–¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
–ü–æ—Ç—ã–∫–∞–π—Ç–µ—Å—å –≥–ª–∞–≤–Ω–æ–µ, —Ç–∞–º –Ω–µ —Å–ª–∏—à–∫–æ–º –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –≤—ã—à–ª–æ, –Ω–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å —á–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –∞ –º–µ–Ω—è—Ç—å —á—Ç–æ —Ç–æ - —è –±–æ—é—Å—å 
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ |
| `/reregister` | –ü–æ–≤—Ç–æ—Ä–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (—Å–º–µ–Ω–∞ email –∏ —Ä–æ–ª–∏) |

### üìù –ö–æ–º–∞–Ω–¥—ã –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/create_newsletter` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ä–∞c—Å—ã–ª–∫–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ–∫—Å—Ç–∞, –º–µ–¥–∏–∞ –∏ inline-–∫–Ω–æ–ø–æ–∫, –Ω—É –≤ –æ–±—â–µ–º —á–µ –≤—ã —Ç–∞–º —Ö–æ—Ç–µ–ª–∏. |

### ‚öôÔ∏è –ö–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/stats` | –ü—Ä–æ—Å–º–æ—Ç—Ä –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –±–æ—Ç–µ |
| `/setrole` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ Telegram ID |


**Python –≤–µ—Ä—Å–∏—è**: 3.12+

### –ª–∏—Ü–µ–Ω–∑–∏—è MIT –∏ –≤—Å–µ —Ç–∞–∫–æ–µ
